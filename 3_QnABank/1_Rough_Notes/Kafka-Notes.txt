
Download Kafka from https://kafka.apache.org and download file

Kafka Broker (Server)
Kafka Zookeeper (To manage broker)
Kafka Producer 
Kafka Consumer
Kafka Connect [Source and sink] to move in/out data to/from kafka to a DB
Kafka Stream to transform data in the topics of kafka.

Topic: 
Its like table which contains partitions
Resides/Created in a broker
Partitions: 
It is like rows which has its offset or incremental id and grows with input
Message final resides in a partition.

Ordering of data is maintained in partions so there are two ways we can send the data to a topic/broker
Without Key
	This will be placed in a partition in a round robin fashion
	Ordering is not gurented

With Key
	The partioner will come into picture by applying hash on the key
	This will put the data into the same partition if as per the hash key generated by partitioner mentioned with data/message.
	Ordering is gurented as it uses same partition to store the message.
	
	
	
Consumer 
	Consumer is created a consumer group is created explicitly and an id is assigned to the consumer.
	Consumer member of a consumer group who reads from a partition maintains an offset from where it read the last value and keeps on updating as it reads value.
	A default topic is __consumer_offsets which maintains the offset of each consumer of consumer group 
	A consumer group has its own topic __consumer_offsets
Consumer group Cordinator
	Assigns the consumer read from the assigned the partitions. in a round robin fashion
	
	
Segment
	Size of a partition

Retentions
	Size of the segment
	Time
	
Replication factor	
	Create or replicate the data to topic





zookeeper Server ===> zookeeper-server-start.bat ..\..\config\zookeeper.properties

Broker Start ===> kafka-server-start.bat ..\..\config\server.properties

kafka-topics.bat --create --topic my-topic --bootstrap-server localhost:9092 --replication-factor 1 --partitions 3

kafka-console-producer.bat --broker-list localhost:9092 --topic my-topic

kafka-console-consumer.bat --bootstrap-server localhost:9092 --topic my-topic --from-beginning


#zookeeper-server-start.bat ..\..\config\zookeeper.properties

#kafka-server-start.bat ..\..\config\server.properties

#kafka-topics.bat --create --topic foods --bootstrap-server localhost:9092 --replication-factor 1 --partitions 4

#kafka-console-producer.bat --broker-list localhost:9092 --topic foods --property "key.separator=-" --property "parse.key=true"

#kafka-console-consumer.bat --bootstrap-server localhost:9092 --topic foods --from-beginning -property "key.separator=-" --property "print.key=false"



.\bin\windows\zookeeper-server-start.bat .\config\zookeeper.properties
.\bin\windows\kafka-server-start.bat .\config\server.properties
.\bin\windows\kafka-server-start.bat .\config\server-1.properties
.\bin\windows\kafka-server-start.bat .\config\server-2.properties
.\bin\windows\kafka-topics.bat --create --bootstrap-server localhost:9092,localhost:9093,localhost:9094 --replication-factor 3 --partitions 3 --topic your_topic_name


Security connection

ðŸ. ð†ðžð§ðžð«ðšð­ðž ð‚ð€ == openssl req -new -x509 -keyout ca-key -out ca-cert -days 3650
ðŸ. ð‚ð«ðžðšð­ðž ð“ð«ð®ð¬ð­ð¬ð­ð¨ð«ðž == keytool -keystore kafka.zookeeper.truststore.jks -alias ca-cert -import -file ca-cert
ðŸ‘. ð‚ð«ðžðšð­ðž ðŠðžð²ð¬ð­ð¨ð«ðž == keytool -keystore kafka.zookeeper.keystore.jks -alias zookeeper -validity 3650 -genkey -keyalg RSA -ext SAN=dns:localhost
ðŸ’. ð‚ð«ðžðšð­ðž ðœðžð«ð­ð¢ðŸð¢ðœðšð­ðž ð¬ð¢ð ð§ð¢ð§ð  ð«ðžðªð®ðžð¬ð­ (ð‚ð’ð‘) == keytool -keystore kafka.zookeeper.keystore.jks -alias zookeeper -certreq -file ca-request-zookeeper
ðŸ“. ð’ð¢ð ð§ ð­ð¡ðž ð‚ð’ð‘ == openssl x509 -req -CA ca-cert -CAkey ca-key -in ca-request-zookeeper -out ca-signed-zookeeper -days 3650 -CAcreateserial
ðŸ”. ðˆð¦ð©ð¨ð«ð­ ð­ð¡ðž ð‚ð€ ð¢ð§ð­ð¨ ðŠðžð²ð¬ð­ð¨ð«ðž == keytool -keystore kafka.zookeeper.keystore.jks -alias ca-cert -import -file ca-cert
ðŸ•. ðˆð¦ð©ð¨ð«ð­ ð­ð¡ðž ð¬ð¢ð ð§ðžð ðœðžð«ð­ð¢ðŸð¢ðœðšð­ðž ð¢ð§ð­ð¨ ðŠðžð²ð¬ð­ð¨ð«ðž == keytool -keystore kafka.zookeeper.keystore.jks -alias zookeeper -import -file ca-signed-zookeeper




Authentication and encryption
SSL: Secure socket layer: It used for two handshake b/w server and client.
	1. client request the server
	2. server will share the id to client and client will verify the server
	3. client will share the id to server and server will verify the client 
	4. if both succeed then connection will be established. 
	5. exchange will happen 
TLS: This is used for encrypting the message.

Note: By deafult the security is plaintext so no encrytion is there is kafka.
Note: ZK version>3.5 is avavilable for ZK clients 

	ZK security: to connect to zk
	Kafka Security: to connect to broker to broker/producer/consumer

Authentication 
	client: The user who wants to communicate to server
	Certificate Authority (CA): Just like USCIS that issue visa.
	Key Store (KS): it is a secret key issued by CA to client like VISA
	Server: It is the System the client wants to communicate he verifies the KS shared by client
	Trust Store (TS): This the store which the server uses to verifuy the KS shared by client with server.
	
	


